import{g as O}from"./index-C69vQpjh.js";function U(w,s){for(var a=0;a<s.length;a++){const l=s[a];if(typeof l!="string"&&!Array.isArray(l)){for(const m in l)if(m!=="default"&&!(m in w)){const h=Object.getOwnPropertyDescriptor(l,m);h&&Object.defineProperty(w,m,h.get?h:{enumerable:!0,get:()=>l[m]})}}}return Object.freeze(Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}))}var j={exports:{}};/*! streamsaver. MIT License. Jimmy WÃ¤rting <https://jimmy.warting.se/opensource> */(function(w){((s,a)=>{w.exports=a()})("streamSaver",()=>{const s=typeof window=="object"?window:this;s.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let a=null,l=!1;const m=o=>{try{o()}catch{}},h=s.WebStreamsPolyfill||{},y=s.isSecureContext;let u=/constructor/i.test(s.HTMLElement)||!!s.safari||!!s.WebKitPoint;const S=y||"MozAppearance"in document.documentElement.style?"iframe":"navigate",d={createWriteStream:A,WritableStream:s.WritableStream||h.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function E(o){if(!o)throw new Error("meh");const e=document.createElement("iframe");return e.hidden=!0,e.src=o,e.loaded=!1,e.name="iframe",e.isIframe=!0,e.postMessage=(...i)=>e.contentWindow.postMessage(...i),e.addEventListener("load",()=>{e.loaded=!0},{once:!0}),document.body.appendChild(e),e}function C(o){const e="width=200,height=100",i=document.createDocumentFragment(),r={frame:s.open(o,"popup",e),loaded:!1,isIframe:!1,isPopup:!0,remove(){r.frame.close()},addEventListener(...t){i.addEventListener(...t)},dispatchEvent(...t){i.dispatchEvent(...t)},removeEventListener(...t){i.removeEventListener(...t)},postMessage(...t){r.frame.postMessage(...t)}},f=t=>{t.source===r.frame&&(r.loaded=!0,s.removeEventListener("message",f),r.dispatchEvent(new Event("load")))};return s.addEventListener("message",f),r}try{new Response(new ReadableStream),y&&!("serviceWorker"in navigator)&&(u=!0)}catch{u=!0}m(()=>{const{readable:o}=new TransformStream,e=new MessageChannel;e.port1.postMessage(o,[o]),e.port1.close(),e.port2.close(),l=!0,Object.defineProperty(d,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})});function W(){a||(a=y?E(d.mitm):C(d.mitm))}function A(o,e,i){let r={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},f=0,t=null,n=null,b=null;if(Number.isFinite(e)?([i,e]=[e,i],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),r.size=i,r.writableStrategy=e):e&&e.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),r.size=i,r.writableStrategy=e):r=e||{},!u){W(),n=new MessageChannel,o=encodeURIComponent(o.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const c={transferringReadable:l,pathname:r.pathname||Math.random().toString().slice(-6)+"/"+o,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+o}};r.size&&(c.headers["Content-Length"]=r.size);const g=[c,"*",[n.port2]];if(l){const p=S==="iframe"?void 0:{transform(M,P){if(!(M instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");f+=M.length,P.enqueue(M),t&&(location.href=t,t=null)},flush(){t&&(location.href=t)}};b=new d.TransformStream(p,r.writableStrategy,r.readableStrategy);const L=b.readable;n.port1.postMessage({readableStream:L},[L])}n.port1.onmessage=p=>{p.data.download?S==="navigate"?(a.remove(),a=null,f?location.href=p.data.download:t=p.data.download):(a.isPopup&&(a.remove(),a=null,S==="iframe"&&E(d.mitm)),E(p.data.download)):p.data.abort&&(v=[],n.port1.postMessage("abort"),n.port1.onmessage=null,n.port1.close(),n.port2.close(),n=null)},a.loaded?a.postMessage(...g):a.addEventListener("load",()=>{a.postMessage(...g)},{once:!0})}let v=[];return!u&&b&&b.writable||new d.WritableStream({write(c){if(!(c instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");if(u){v.push(c);return}n.port1.postMessage(c),f+=c.length,t&&(location.href=t,t=null)},close(){if(u){const c=new Blob(v,{type:"application/octet-stream; charset=utf-8"}),g=document.createElement("a");g.href=URL.createObjectURL(c),g.download=o,g.click()}else n.port1.postMessage("end")},abort(){v=[],n.port1.postMessage("abort"),n.port1.onmessage=null,n.port1.close(),n.port2.close(),n=null}},r.writableStrategy)}return d})})(j);var T=j.exports;const z=O(T),x=U({__proto__:null,default:z},[T]);export{x as S};
